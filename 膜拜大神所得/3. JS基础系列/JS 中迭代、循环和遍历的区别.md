# JS 中迭代、循环和遍历的区别

1. 循环 (Loop)：是控制结构，用于重复执行代码块，直到满足特定条件。

2. 迭代 (Iteration)：迭代是通过迭代器协议(Iterator Protocol)按 “顺序” 访问集合元素的过程。

   是重复执行一系列操作的过程，直到满足特定条件。迭代通常用于遍历数据结构，如数组或对象。

3. 遍历 (Traversal)：遍历是指系统地访问数据结构中的每个节点或元素的过程（可以不按"顺序"）。

## 总结区别

| 概念 | 主要用途                      | 典型实现               | 数据结构适用性    |
| :--- | :---------------------------- | :--------------------- | :---------------- |
| 循环 | 重复执行代码块                | for, while, do...while | 不特定于数据结构  |
| 迭代 | 顺序访问可迭代对象元素        | for...of, 迭代器协议   | 数组、Map、Set 等 |
| 遍历 | 系统访问数据结构所有节点/元素 | 递归、循环+栈/队列     | 树、图等复杂结构  |

在实际开发中，这三个概念经常交叉使用，例如用循环来实现遍历，或者用迭代的方式来处理集合数据。

## for、for-in、for-of 循环的区别

- for 循环：可以遍历字符串和数组

  因为数组的索引就可以获取数组中的内容，数组的索引又是按照 0-n 顺序排列，我们就可以使用 for 循环来循环数组，因为 for 循环我们也可以设置成 0-n 顺序增加，我们把这个行为叫做：遍历

- for in 循环【ES5】：是为了遍历对象而创建的

  因为对象是没有索引的，所以我们没有办法使用 for 循环来遍历，这里我们就可以使用 for in 循环来遍历对象

- for of 循环【ES6】：是为了遍历迭代器而创建的

  内置可迭代对象有：Array，Map，Set，String，TypedArray，arguments、nodeList

## 迭代、递归

- 迭代：for 循环 ；
- 递归：调用自身或 间接调用自身 ；
- 递归中一定有迭代，但是迭代中不一定有递归；
- 能用迭代的不用递归；递归调用函数，浪费空间，并且递归太深容易造成堆栈的溢出。

* 尾递归事实上和循环是等价的，没有循环语句的编程语言只能通过尾递归实现循环。

## 什么是尾调用，使用尾调用有什么好处？ 尾调用与闭包

尾调用指的是：函数的最后一步调用另一个函数。
当函数执行的最后一步是返回一个函数的调用结果时，我们称之为尾递归。

```demo
function factorial(n, acc = 1) {
  if (n === 0) return acc;
  return factorial(n - 1, n * acc);
}

console.log(factorial(5)); // 输出：120
```

**好处：** 使用尾调用的话，因为已经是函数的最后一步，所以这时可以不必再保留当前的执行上下文，从而节省了内存，这就是尾调用优化。但是 ES6 的尾调用优化只在严格模式下开启，正常模式是无效的。

- 尾递归调用时，如果做了优化，栈不会增长，因此，无论多少次调用也不会导致栈溢出。
- 遗憾的是，大多数编程语言没有针对尾递归做优化，Python 解释器也没有做优化，所以，即使把上面的 fact(n)函数改成尾递归方式，也会导致栈溢出。
