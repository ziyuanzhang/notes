# AI-8-最小可运行生产骨架 2-对

在上一步（不推翻刚才 MVP） 的前提下，逐步升级成：fastMCP + RAGFlow + vLLM 的真实可运行生产骨架。

- 严格遵守三条原则：

  1. Agent 不变（控制面稳定）
  2. RAGFlow 降级为 Tool（不可直连）
  3. vLLM 只是模型平面（无业务）

## 一、升级后的「最小但真实」结构

```bash

agent-gateway/
├─ app/
│  ├─ main.py
│  └─ api_agent.py
│
├─ agents/
│  ├─ graph.py
│  └─ state.py
│
├─ policies/
│  └─ tool_policy.py
│
├─ tools/
│  ├─ mcp_client.py        # fastMCP Client（治理入口）
│  └─ ragflow_tool.py     # RAGFlow Tool Adapter
│
└─ models/
   └─ llm.py               # vLLM Client

```
