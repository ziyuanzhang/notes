# python é«˜çº§

ç¬¬ä¸‰æ–¹åº“å’Œå·¥å…·ï¼Œå¦‚ NumPyã€Pandasã€TensorFlow å’Œ PyTorch ç­‰

- ç±»å‹å·¥å…·ï¼š
  1. dataclass:ä¸»è¦ç”¨äºç®€åŒ–ç±»çš„åˆ›å»º;
  2. typing: ç±»å‹æ£€æŸ¥;
     - TypedDict
     - NamedTuple
  3. pydantic V2: (æ¨èç”¨äº Python 3.11+) å¤„ç†å¤æ‚çš„æ•°æ®éªŒè¯;

| æ’å Â  Â    | å·¥å…· Â  Â  Â  Â  Â  Â  Â  Â  Â  Â     | Â  é•œåƒä½“ç§¯ Â  Â  | Â  å†·å¯åŠ¨æ—¶é—´ Â  | Â  æ„å»ºæ—¶é—´   |
| ---------- | --------------------------- | -------------- | -------------- | ------------ |
| NO.1 Â  Â    | python -m venv + pip-tools  | Â  90âˆ¼150MB     | Â  Â  1.8âˆ¼3.5s   | Â  Â <90s      |
| NO.2 Â  Â    | uvï¼ˆRust ç‰ˆï¼‰ Â  Â  Â  Â  Â  Â  Â  | 100âˆ¼180MB      | Â  Â 1.2âˆ¼2.8s Â   | Â <45s        |
| NO.3 Â  Â    | poetry Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   | Â 450âˆ¼800MB     | Â  Â 8âˆ¼15s Â      | Â  Â  3âˆ¼7min   |
| NO.4 Â  Â    | pipenv Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   | Â 600MB+ Â       | Â  Â  12s+ Â      | Â  Â  Â 5min+   |
| æ‹‰å‡ºå»æªæ¯™ | conda Â  Â  Â  Â  Â  Â  Â  Â  Â  Â    | 1.2âˆ¼3GB Â       | Â  Â 25âˆ¼60s      | Â  Â  Â 8âˆ¼20min |

## å‰ç½®çŸ¥è¯†

1. è¿è¡Œpython3æ­¥éª¤ï¼š
   - 1ã€pythonè§£é‡Šå™¨å¯åŠ¨--è§£é‡Šå™¨ä»ç¡¬ç›˜è¯»åˆ°å†…å­˜ï¼ˆç›¸å½“äºå¯åŠ¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼‰ï¼›
   - 2ã€pythonè§£é‡Šå™¨æŠŠa.pyçš„å†…å®¹å½“åšæ™®é€šçš„æ–‡æœ¬å†…å®¹ç”±ç¡¬ç›˜è¯»å…¥å†…å­˜(æœ¬è´¨æ˜¯è§£é‡Šå™¨å‘æ“ä½œç³»ç»Ÿå‘èµ·ç³»ç»Ÿè°ƒç”¨ï¼Œè®©æ“ä½œç³»ç»Ÿæ§åˆ¶ç¡¬ä»¶å®Œæˆè¯»å–)
   - 3ã€è§£é‡Šå™¨è§£é‡Šæ‰§è¡Œåˆšåˆšè¯»å…¥å†…å­˜çš„pythonä»£ç ï¼Œå¼€å§‹è¯†åˆ«pythonè¯­æ³•

## 1. xxæ˜¯ä»€ä¹ˆï¼Ÿ2.ä¸ºä»€ä¹ˆæœ‰å®ƒï¼Ÿ3.æ€ä¹ˆç”¨ï¼Ÿ

## ç¼–è¯‘å‹orè§£é‡Šå‹ï¼›å¼ºç±»å‹orå¼±ç±»å‹ï¼›åŠ¨æ€å‹oré™æ€å‹

- å¼ºç±»å‹ï¼šæ•°æ®ç±»å‹ä¸å¯ä»¥è¢«å¿½ç•¥çš„è¯­è¨€ å³å˜é‡çš„æ•°æ®ç±»å‹ä¸€æ—¦è¢«å®šä¹‰ï¼Œé‚£å°±ä¸ä¼šå†æ”¹å˜ï¼Œé™¤éè¿›è¡Œå¼ºè½¬ã€‚
- åŠ¨æ€å‹ï¼šè¿è¡Œæ—¶æ‰è¿›è¡Œæ•°æ®ç±»å‹æ£€æŸ¥ å³åœ¨å˜é‡èµ‹å€¼æ—¶ï¼Œæ‰ç¡®å®šå˜é‡çš„æ•°æ®ç±»å‹ï¼Œä¸ç”¨äº‹å…ˆç»™å˜é‡æŒ‡å®šæ•°æ®ç±»å‹
- é™æ€å‹ï¼šéœ€è¦äº‹å…ˆç»™å˜é‡è¿›è¡Œæ•°æ®ç±»å‹å®šä¹‰

## åƒåœ¾å›æ”¶æœºåˆ¶ï¼šå›æ”¶â€œæ²¡æœ‰ä»»ä½•å˜é‡åçš„â€œå€¼

## å˜é‡

```python
    x=10
    y=x
    z=x
  # ç»™10ç»‘å®š3ä¸ªå˜é‡å
    del x # è§£é™¤å˜é‡åxä¸å€¼10çš„ç»‘å®šå…³ç³»
    del y # è§£é™¤å˜é‡åyä¸å€¼10çš„ç»‘å®šå…³ç³»
  # æ­¤æ—¶ z=10
    z=123
  # æ­¤æ—¶ z=123, å€¼10æ²¡æœ‰ç»‘å®šå…³ç³»äº†, ä¼šè¢«å›æ”¶
```

- â€œå˜é‡å€¼â€ çš„ä¸‰å¤§ç‰¹æ€§ï¼š
  1. idï¼šååº”çš„æ˜¯å˜é‡åœ¨å†…å­˜ä¸­çš„å”¯ä¸€ç¼–å·ï¼Œå†…å­˜åœ°å€ä¸åŒidè‚¯å®šä¸åŒï¼ˆä¸æ˜¯å†…å­˜åœ°å€ï¼Œæ˜¯æ ¹æ®å†…å­˜åœ°å€è®¡ç®—çš„ç¼–å·ï¼‰
  2. typeï¼šå˜é‡å€¼çš„ç±»å‹
  3. valueï¼šå˜é‡å€¼

  ```python
     x='Info Tony:18'
     print(id(x), type(x), x) # ==> 4376607152,<class 'str'>,'Info Tony:18'
  ```

- is ä¸ ==
  `x="3.1415926"`
  `y="3.1415926"`
  1. is: æ¯”è¾ƒå·¦å³ä¸¤ä¸ªå€¼â€œèº«ä»½idâ€æ˜¯å¦ç›¸ç­‰;
  2. ==: æ¯”è¾ƒå·¦å³ä¸¤ä¸ªå€¼â€œä»–ä»¬çš„å€¼â€æ˜¯å¦ç›¸ç­‰;
     **æ³¨ï¼š** å€¼ç›¸ç­‰ï¼Œidå¯èƒ½ä¸åŒï¼Œå³ä¸¤å—ä¸åŒçš„å†…å­˜ç©ºé—´é‡Œå¯ä»¥å­˜ç›¸åŒçš„å€¼

- Python ä¸­æ¯”è¾ƒç›¸ç­‰
  1. is: åˆ¤æ–­èº«ä»½
  2. ==: åˆ¤æ–­å€¼

- java ä¸­æ¯”è¾ƒ
  1. equals: åˆ¤æ–­å€¼
  2. ==: åˆ¤æ–­å¼•ç”¨

## å¸¸é‡ï¼ˆçº¦å®šï¼‰

åœ¨Pythonä¸­æ²¡æœ‰ä¸€ä¸ªä¸“é—¨çš„è¯­æ³•å®šä¹‰å¸¸é‡ï¼Œçº¦å®šä¿—æˆæ˜¯ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡åè¡¨ç¤ºå¸¸é‡ã€‚

## è¿ç®—ç¬¦

1. é€»è¾‘è¿ç®—ç¬¦ï¼šnotã€andã€orï¼›ä¼˜å…ˆçº§ï¼šnot > and > or
2. æˆå‘˜è¿ç®—ç¬¦ï¼šinã€not in;
3. èº«ä»½è¿ç®—ç¬¦ï¼šis, is notï¼›

- 0ã€Noneã€ç©ºï¼ˆç©ºå­—ç¬¦ä¸²ã€ç©ºåˆ—è¡¨ã€ç©ºå­—å…¸ï¼‰==ã€‹ä»£è¡¨çš„å¸ƒå°”å€¼ä¸ºFalseï¼Œå…¶ä½™ä¸ºTrue;
- çŸ­è·¯è¿ç®—ï¼šå·æ‡’åŸåˆ™ï¼Œå·æ‡’åˆ°å“ªä¸ªä½ç½®ï¼Œå°±æŠŠå½“å‰ä½ç½®çš„å€¼è¿”å›ï¼›ã€ç”¨åœ¨æ¡ä»¶åˆ¤æ–­ã€‘
  `if 10>3 and 10 and None and 10 or 10>3 and 1===1`

## è§£å‹èµ‹å€¼

- `x,y,z,*_ = arr=[11,22,33,44,55,66]`

`_`: å ä½ç¬¦ï¼ˆå˜é‡åï¼‰ï¼Œæ°¸è¿œä¸ä¼šè¢«ç”¨

- `x,y,z =dic={'a':1,'b':2,'c':3}`
  print(x,y,z) ==> a,b,z è§£å‹å‡ºæ¥çš„æ˜¯key

## å¯å˜ç±»å‹ ä¸ ä¸å¯å˜ç±»å‹

- å¯å˜ç±»å‹ï¼šå€¼å˜äº†ï¼Œidä¸å˜ï¼Œè¯æ˜æ”¹çš„æ˜¯åŸå€¼ï¼Œè¯æ˜åŸå€¼æ˜¯å¯ä»¥è¢«æ”¹å˜çš„ï¼›
  listã€dict
- ä¸å¯å˜ç±»å‹ï¼šå€¼å˜äº†ï¼Œidä¹Ÿå˜äº†ï¼Œè¯æ˜æ˜¯äº§ç”Ÿæ–°çš„å€¼ï¼ŒåŸå€¼æ²¡æœ‰æ”¹å˜ï¼Œè¯æ˜åŸå€¼æ˜¯ä¸å¯è¢«ä¿®æ”¹çš„ï¼›
  boolã€intã€floatã€str

## æµ…copyä¸æ·±copy

åˆ—è¡¨å˜é‡åï¼ˆå­˜åˆ—è¡¨å†…å­˜åœ°å€ï¼‰-->åˆ—è¡¨ï¼ˆå­˜å„ä¸ªå…ƒç´ çš„å†…å­˜åœ°å€ï¼‰-->å„ä¸ªå…ƒç´ ï¼ˆå€¼ï¼‰æˆ–å­åˆ—è¡¨çš„å†…å­˜åœ°å€ï¼ˆç»§ç»­é€’å½’ï¼‰

âœ… æµ…æ‹·è´ï¼šå¤åˆ¶æœ€å¤–å±‚å®¹å™¨ï¼Œæ–°å®¹å™¨ä¸­çš„å…ƒç´ ä»æŒ‡å‘åŸå¯¹è±¡
âœ… æ·±æ‹·è´ï¼šé€’å½’åˆ›å»ºæ‰€æœ‰å­å¯¹è±¡ï¼Œå®Œå…¨ç‹¬ç«‹ï¼›

- é»˜è®¤éƒ½æ˜¯æµ…copy (åŒ…æ‹¬ï¼šåˆ‡ç‰‡)

## å¯è¿­ä»£å¯¹è±¡

åˆ—è¡¨ã€å­—å…¸ã€å­—ç¬¦ä¸²ã€å…ƒç»„ã€é›†åˆã€range

for å¾ªç¯ï¼šåœ¨å¾ªç¯å–å€¼ï¼ˆéå†å–å€¼ï¼‰æ¯”while å¾ªç¯æ›´ç®€æ´ï¼›

ç±»å‹è½¬æ¢ï¼šå‡¡æ˜¯èƒ½è¢«forå¾ªç¯éå†çš„ç±»å‹éƒ½å¯ä»¥å½“ä½œå‚æ•°ä¼ ç»™list()è½¬æˆåˆ—è¡¨ï¼›

## æ•°æ®ç±»å‹

- age=10 --> age=int(10) ï¼šæ¶‰åŠç”³è¯·å†…å­˜ç©ºé—´
- strå­—ç¬¦ä¸²ï¼šé€šè¿‡ä¸‹æ ‡â€œä»…å¯è¯»ï¼ˆä¸å¯å†™ï¼‰â€;
- listæ•°ç»„ï¼šé€šè¿‡ä¸‹æ ‡â€œå¯è¯»å¯å†™â€ï¼›ç”¨è¶…å‡ºé•¿åº¦çš„ä¸‹æ ‡æ“ä½œ-->æŠ¥é”™ï¼›
  1. l=[1,2.2,'a'] --> l=list([1,2.2,'a']);
  2. js çš„æ•°ç»„ï¼šå¯è¯»å¯å†™ï¼›

- å…ƒç»„ï¼šæœ€å¤–å±‚çš„å†…å­˜åœ°å€ä¸èƒ½åŠ¨ï¼Œé‡Œé¢çš„å­å¯¹è±¡å¯ä»¥ä¿®æ”¹ï¼ˆç±»ä¼¼jsçš„constæŒ‡é’ˆä¸èƒ½æ”¹ï¼‰ï¼›
- é›†åˆï¼šé›†åˆå†…å…ƒç´ å¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹ï¼›
  1. s={1,2} --> s=set({1,2});
  2. ç©ºé›†åˆ: s=set()
  3. print(set('hello world')) ==>{'h','e','l','o','w','r',d'}

## python è¯¡å¼‚ç°è±¡

æ ¸å¿ƒå…³é”®è¯ï¼šç¼“å­˜ã€å¤ç”¨ã€å•ä¾‹ã€ç¼–è¯‘æœŸä¼˜åŒ–

- Python ä¸­ï¼Œå‡¡æ˜¯ä½ â€œæ²¡ new çš„å¯¹è±¡â€ï¼Œéƒ½å¯èƒ½è¢«å¤ç”¨ã€‚
  æ‰€ä»¥ï¼š
  - âŒ ä¸è¦ç”¨ is åˆ¤æ–­å€¼
  - âœ… is åªç”¨äºå•ä¾‹ï¼ˆNone / True / Falseï¼‰
  - âœ… å†™ä»£ç æ—¶å‡è®¾ï¼šå¯¹è±¡å¯èƒ½è¢«å¤ç”¨

- Python ä¸ºäº†æ€§èƒ½ï¼Œåœ¨ä½ çœ‹ä¸è§çš„åœ°æ–¹ç–¯ç‹‚â€œçœå¯¹è±¡â€ã€‚

### ä¸€ã€æ•°å€¼ç±»

- 1ï¸âƒ£å°æ•´æ•°æ± ï¼›ã€èŒƒå›´ï¼š-5 ~ 256ã€‘pythonè§£é‡Šå™¨å¯åŠ¨æ—¶ï¼Œå°±åœ¨å†…å­˜ç”³è¯·äº†ç©ºé—´ï¼›
- 2ï¸âƒ£ bool æ˜¯ int çš„å­ç±»ã€å†å²è®¾è®¡ã€‘

```python
 # 1ï¸âƒ£ å°æ•´æ•°æ± 
   a = 100
   b = 100
   a is b   # True
 # 2ï¸âƒ£ bool æ˜¯ int çš„å­ç±»
   isinstance(True, int)  # True
   True + 1    # 2
```

### äºŒã€å­—ç¬¦ä¸²ç±»ï¼šæ¯”ä½ æƒ³è±¡å¾—å¤š

- 3ï¸âƒ£ å­—ç¬¦ä¸²å­—é¢é‡åˆå¹¶ã€âœ” ç¼–è¯‘æœŸï¼Œ âœ” Unicode/ä¸­æ–‡/emojiéƒ½é€‚ç”¨ã€‘
- 4ï¸âƒ£ å­—ç¬¦ä¸²é©»ç•™ï¼ˆinternï¼‰ã€å…¸å‹åœºæ™¯: dict key; çŠ¶æ€æœº; è¯æ³•åˆ†æã€‘
- 5ï¸âƒ£ æ ‡è¯†ç¬¦å­—ç¬¦ä¸²è‡ªåŠ¨ intern ã€ å¦‚æœå®ƒæ˜¯: åˆæ³•æ ‡è¯†ç¬¦;ä¸”æ¥æºæ˜ç¡®; ğŸ‘‰ å¾ˆå¯èƒ½è¢«è‡ªåŠ¨ internã€‘

```python
 # 3ï¸âƒ£ å­—ç¬¦ä¸²å­—é¢é‡åˆå¹¶
   x = "abc"
   y = "abc"
   x is y   # True
 # 4ï¸âƒ£ å­—ç¬¦ä¸²é©»ç•™ï¼ˆinternï¼‰
   import sys
   a = sys.intern("hello")
   b = sys.intern("hello")
   a is b  # True
 # 5ï¸âƒ£ æ ‡è¯†ç¬¦å­—ç¬¦ä¸²è‡ªåŠ¨ intern
   x = "variable_name"
```

### ä¸‰ã€ç©ºå€¼ä¸ç‰¹æ®Šå¯¹è±¡ï¼šä¸¥æ ¼å•ä¾‹

- 6ï¸âƒ£ None æ°¸è¿œåªæœ‰ä¸€ä¸ª ã€âœ” è¯­è¨€è§„èŒƒä¿è¯ã€‘
- 7ï¸âƒ£ True / False ä¹Ÿæ˜¯å•ä¾‹
- 8ï¸âƒ£ Ellipsisï¼ˆ...ï¼‰ã€ç”¨äºï¼šåˆ‡ç‰‡;ç±»å‹æç¤ºã€‘

```python
 # 6ï¸âƒ£ None æ°¸è¿œåªæœ‰ä¸€ä¸ª
   x = None
   y = None
   x is y   # True
 # 7ï¸âƒ£ True / False ä¹Ÿæ˜¯å•ä¾‹
   a = True
   b = True
   a is b   # True
 # 8ï¸âƒ£ Ellipsisï¼ˆ...ï¼‰
   x = ...
   y = ...
   x is y   # True
```

### å››ã€å®¹å™¨ & è¯­æ³•å±‚é¢çš„â€œå‘â€

- 9ï¸âƒ£ ç©ºå…ƒç»„æ˜¯å•ä¾‹ ã€âœ” ä¸å¯å˜ï¼Œâœ” å¸¸é‡å¤ç”¨ã€‘
- ğŸ”Ÿ ç©º frozenset å¯èƒ½è¢«å¤ç”¨ã€âš ï¸ å®ç°ç»†èŠ‚ï¼Œåˆ«ä¾èµ–ã€‘
- 1ï¸âƒ£1ï¸âƒ£ é»˜è®¤å‚æ•°é™·é˜±ï¼ˆå¤ç”¨çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼‰ã€åŸå› ï¼šé»˜è®¤å‚æ•°åœ¨â€å‡½æ•°å®šä¹‰æ—¶â€œåˆ›å»ºï¼›ä¸æ˜¯è°ƒç”¨æ—¶ã€‘

```python
 # 9ï¸âƒ£ ç©ºå…ƒç»„æ˜¯å•ä¾‹
   a = ()
   b = ()
   a is b   # True
 # ğŸ”Ÿ ç©º frozenset å¯èƒ½è¢«å¤ç”¨
   a = frozenset()
   b = frozenset()
   a is b   # Trueï¼ˆå¸¸è§ï¼‰
 # 1ï¸âƒ£1ï¸âƒ£ é»˜è®¤å‚æ•°é™·é˜±ï¼ˆå¤ç”¨çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼‰
   def f(x=[]):
       x.append(1)
       return x
   f()  # [1]
   f()  # [1, 1]
```

### äº”ã€ç¼–è¯‘æœŸä¼˜åŒ–å¯¼è‡´çš„â€œå¹»è§‰â€

- 1ï¸âƒ£2ï¸âƒ£ å¸¸é‡æŠ˜å ï¼ˆConstant Foldingï¼‰
- 1ï¸âƒ£3ï¸âƒ£ ç¼–è¯‘æœŸå­—ç¬¦ä¸²æ‹¼æ¥
- 1ï¸âƒ£4ï¸âƒ£ åŒä¸€è¡Œå¯¹è±¡å¤ç”¨ã€âš ï¸ ä¸å¯é¢„æµ‹ã€‘

```python
 # 1ï¸âƒ£2ï¸âƒ£ å¸¸é‡æŠ˜å 
   x = 1 + 2 ç¼–è¯‘æœŸç›´æ¥å˜æˆï¼šx = 6
 # 1ï¸âƒ£3ï¸âƒ£ ç¼–è¯‘æœŸå­—ç¬¦ä¸²æ‹¼æ¥
   x = "hello" + "world" ç­‰ä»·äºï¼š x = "helloworld"
 # 1ï¸âƒ£4ï¸âƒ£ åŒä¸€è¡Œå¯¹è±¡å¤ç”¨
   a = 1000; b = 1000
   a is b  # æœ‰æ—¶ True
```

### å…­ã€ç±» / å‡½æ•°å±‚é¢çš„å…±äº«

- 1ï¸âƒ£5ï¸âƒ£ ç±»å±æ€§å…±äº«
- 1ï¸âƒ£6ï¸âƒ£ é—­åŒ…æ•è·çš„æ˜¯â€œå˜é‡â€ï¼Œä¸æ˜¯â€œå€¼â€

```python
 # 1ï¸âƒ£5ï¸âƒ£ ç±»å±æ€§å…±äº«
   class A:
      x = []

    a1 = A()
    a2 = A()
    a1.x.append(1)
    a2.x   # [1]
 # 1ï¸âƒ£6ï¸âƒ£ é—­åŒ…æ•è·çš„æ˜¯â€œå˜é‡â€ï¼Œä¸æ˜¯â€œå€¼â€
   funcs = []
   for i in range(3):
       funcs.append(lambda: i)

   [f() for f in funcs]  # [2, 2, 2]
```

### ä¸ƒã€æ€»ç»“ä¸€å¼ ã€Œå½’å› é€ŸæŸ¥è¡¨ã€

| ç°è±¡           | åŸå›                      |
| -------------- | ------------------------ |
| `id` ä¸€æ ·      | ç¼“å­˜ / å•ä¾‹ / ç¼–è¯‘æœŸåˆå¹¶ |
| `is` å¶å°” True | CPython ä¼˜åŒ–             |
| é»˜è®¤å‚æ•°å…±äº«   | å®šä¹‰æœŸç»‘å®š               |
| ä¸­æ–‡å­—ç¬¦ä¸²ç›¸åŒ | å¸¸é‡åˆå¹¶                 |
| ç©ºå¯¹è±¡å¤ç”¨     | ä¸å¯å˜ + ä¼˜åŒ–            |

### å…«ã€å¯¹ç…§æ€»è¡¨ï¼ˆPython vs Javaï¼‰

| ç»´åº¦       | Python      | Java          |
| ---------- | ----------- | ------------- |
| å°æ•´æ•°ç¼“å­˜ | -5 ~ 256    | -128 ~ 127    |
| æ˜¯å¦è§„èŒƒ   | âŒ å®ç°ç»†èŠ‚ | âœ… JLS        |
| å­—ç¬¦ä¸²æ±    | æœ‰ï¼ˆéšå¼ï¼‰  | æœ‰ï¼ˆå¼ºè§„èŒƒï¼‰  |
| intern     | sys.intern  | String.intern |
| None/null  | None æ˜¯å¯¹è±¡ | null ä¸æ˜¯å¯¹è±¡ |
| is / ==    | is åˆ¤æ–­å¼•ç”¨ | == åˆ¤æ–­å¼•ç”¨   |
| equals     | == åˆ¤æ–­å€¼   | equals åˆ¤æ–­å€¼ |

## æ•°æ®ç±»å‹ ä¸ æ•°æ®ç±»

æ•°æ®ç±»å‹

```bash
object
 â”œâ”€â”€ int, float, bool, complex(å¤æ•°)
 â”œâ”€â”€ str(ä¸å¯å˜)
 â”œâ”€â”€ list, tuple(ä¸å¯å˜), range
 â”œâ”€â”€ set, frozenset(ä¸å¯å˜é›†åˆ)
 â”œâ”€â”€ dict
 â”œâ”€â”€ bytes(ä¸å¯å˜å­—èŠ‚), bytearray, memoryview
 â”œâ”€â”€ None(ç©ºå€¼)
 â””â”€â”€ function, class, ...

```

æ•°æ®ç±»

| ç±»å‹                 | æ˜¯å¦å®˜æ–¹ | æ˜¯å¦æ¨è  | ç‰¹ç‚¹             |
| -------------------- | -------- | --------- | ---------------- |
| `@dataclass`         | âœ…       | âœ… å¼ºçƒˆ   | ç°ä»£ Python æ ‡å‡† |
| `namedtuple`         | âœ…       | âš ï¸        | è€æ–¹æ¡ˆï¼Œä¸ç›´è§‚   |
| `typing.NamedTuple`  | âœ…       | âš ï¸        | ä¸å¯å˜           |
| `attrs`              | âŒ       | âœ…        | dataclass è¶…é›†   |
| `pydantic.BaseModel` | âŒ       | âœ…ï¼ˆWebï¼‰ | æ ¡éªŒ + åºåˆ—åŒ–    |

```python
# 1. é»˜è®¤
@dataclass
class Point:
    x: int
    y: int
    z: int = 18 # é»˜è®¤å€¼
    members: list[str] = field(default_factory=list) # ä½¿ç”¨ field() çš„æ•°æ®ç±»
    members: list[str] = []  # å¤§å‘ âŒ
p = Point(1, 2)
p.x = 10   # âœ… å¯ä»¥æ”¹

# 2. ä¸å¯å˜æ•°æ®ç±»
@dataclass(frozen=True)
class Point:
    x: int
    y: int
p = Point(1, 2)
p.x = 10  # âŒ æŠ¥é”™

# 3. é»˜è®¤å€¼
@dataclass
class Team:
    name: str
    age: int = 18 # é»˜è®¤å€¼
    members: list[str] = field(default_factory=list) # ä½¿ç”¨ field() çš„æ•°æ®ç±»
    members: list[str] = []  # å¤§å‘ âŒ
    classVal: str = field(compare=False) # ä¸å‚ä¸æ¯”è¾ƒ

# 4. æ’åºæ•°æ®ç±»
@dataclass(order=True)
class User:
    age: int
    name: str
User(18, "A") < User(20, "B")  # True

```

## å®‰è£…å¹¶åˆå§‹åŒ–é¡¹ç›®

1. å®‰è£…uv
   - Linux / macOS: `curl -LsSf https://astral.sh/uv/install.sh | sh`
   - Windows (PowerShell): `powershell -ExecutionPolicy ByPass -Command "irm https://astral.sh/uv/install.ps1 | iex"`
   - æˆ– `pip install uv`
   - `uv --version`
2. åˆå§‹åŒ–é¡¹ç›®: `uv init my_project` ï¼›`cd my_project`;
3. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»ï¼š
   - `uv venv`;
   - Linux/macOS: `source .venv/bin/activate`
   - Windows (PowerShell/CMD): `.venv\Scripts\activate`
4. æ·»åŠ â€.python-version â€œæ–‡ä»¶ï¼Œåœ¨srcä¸‹å†™ä»£ç ï¼›
5. git:
   - `git add uv.lock`
   - .gitignoreï¼ˆæœ€å°ä½†æ­£ç¡®ï¼‰

   ```gitignore
     .venv/
     __pycache__/
     .mypy_cache/
     .pytest_cache/
     .ruff_cache/
     .env
   ```

6. å®‰è£…å¼€å‘ä¾èµ–:`uv add --dev pytest mypy ruff`
   åœ¨ pyproject.toml ä¸­æ·»åŠ ï¼š

   ```python
      [tool.mypy]
      python_version = "3.11"
      strict = true

      # é¡¹ç›®ç»“æ„
      packages = ["my_project"]
      mypy_path = ["src"]

      # å¸¸è§å¦¥å
      ignore_missing_imports = true
      warn_unused_ignores = true
      warn_return_any = true
      warn_unreachable = true

      [tool.ruff]  # æ ¼å¼ + lint
      target-version = "py311"
      line-length = 88

      [tool.ruff.lint] # æ ¼å¼ + lint
      select = ["E", "F", "I", "B", "UP"]
      ignore = ["E501"]
   ```

   - æ‰§è¡Œæ ¼å¼æ£€æŸ¥å’Œæ ¼å¼åŒ–ï¼š`uv run ruff check .`ï¼›`uv run ruff format .`ï¼›
   - æ‰§è¡Œç±»å‹æ£€æŸ¥ï¼š`uv run mypy src`ï¼›

7. åŒæ­¥ä¸‹è½½pyproject.tomlä¸­çš„ä¾èµ–ï¼š`uv sync`
   ğŸ‘‰ uv + mypy + ruff + src å¸ƒå±€
   ğŸ‘‰ FastAPI + uv + mypy + ruff æ ‡å‡†éª¨æ¶
   ğŸ‘‰ LangGraph / LlamaIndex é¡¹ç›®å¦‚ä½•ç”¨ uv ç®¡ç†å¤šå­æ¨¡å—
